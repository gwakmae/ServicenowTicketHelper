<Window x:Class="ServiceNowTicketHelper.Views.TemplateManagerView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ServiceNowTicketHelper.Views"
        mc:Ignorable="d"
        Title="템플릿 관리" Height="500" Width="800" MinHeight="400" MinWidth="600">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250" MinWidth="180"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 왼쪽: 템플릿 목록 및 추가/삭제 버튼 -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Label Grid.Row="0" Content="템플릿 목록" FontWeight="Bold"/>

            <ListBox Grid.Row="1" Margin="5"
                     ItemsSource="{Binding Templates}"
                     SelectedItem="{Binding SelectedTemplate}"
                     DisplayMemberPath="TemplateName"/>

            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="추가" Margin="5" Padding="20,5" Command="{Binding AddCommand}"/>
                <Button Content="삭제" Margin="5" Padding="20,5" Command="{Binding DeleteCommand}"/>
            </StackPanel>
        </Grid>

        <!-- 오른쪽: 선택된 템플릿 편집 영역 -->
        <Grid Grid.Column="1" Margin="10,0,0,0" DataContext="{Binding SelectedTemplate}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- 0: Title -->
                <RowDefinition Height="Auto"/>
                <!-- 1: Label Name -->
                <RowDefinition Height="Auto"/>
                <!-- 2: TextBox Name -->
                <RowDefinition Height="Auto"/>
                <!-- 3: Label Service -->
                <RowDefinition Height="Auto"/>
                <!-- 4: TextBox Service -->
                <RowDefinition Height="Auto"/>
                <!-- 5: Label Short Desc -->
                <RowDefinition Height="Auto"/>
                <!-- 6: TextBox Short Desc -->
                <RowDefinition Height="Auto"/>
                <!-- 7: Label Detail Desc -->
                <RowDefinition Height="*"/>
                <!-- 8: TextBox Detail Desc -->
                <RowDefinition Height="Auto"/>
                <!-- 9: Save Button -->
            </Grid.RowDefinitions>

            <Label Grid.Row="0" Content="선택된 템플릿 편집" FontWeight="Bold"/>

            <Label Grid.Row="1" Content="템플릿 이름:" Margin="0,10,0,0"/>
            <TextBox Grid.Row="2" Text="{Binding TemplateName, UpdateSourceTrigger=PropertyChanged}" Padding="2"/>

            <Label Grid.Row="3" Content="서비스/어플리케이션:" Margin="0,5,0,0"/>
            <TextBox Grid.Row="4" Text="{Binding ServiceApplication, UpdateSourceTrigger=PropertyChanged}" Padding="2"/>

            <Label Grid.Row="5" Content="간단한 설명:" Margin="0,5,0,0"/>
            <TextBox Grid.Row="6" Text="{Binding ShortDescription, UpdateSourceTrigger=PropertyChanged}" Padding="2"/>

            <Label Grid.Row="7" Content="상세 설명:" Margin="0,5,0,0"/>
            <TextBox Grid.Row="8" Text="{Binding DetailedDescription, UpdateSourceTrigger=PropertyChanged}" 
                     AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" MinHeight="100" Padding="2"/>

            <Button Grid.Row="9" Content="모든 변경사항 저장" Margin="0,15,0,0" Padding="0,10"
                    HorizontalAlignment="Right" Command="{Binding DataContext.SaveCommand, RelativeSource={RelativeSource AncestorType=Window}}"/>
        </Grid>
    </Grid>
</Window>